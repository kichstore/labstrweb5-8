<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>

<div th:insert="blocks/admin-header :: header"></div>

<body>

<div class="container mt-5">
    <h1 >Учётные записи</h1>

    <table class="table" >
        <tr class="table-success">
            <th scope="col">Логин</th>
            <th scope="col">Пароль</th>
            <th scope="col">Роль</th>
            <th scope="col">Имя</th>
            <th scope="col">Фамилия</th>
            <th scope="col">Отчество</th>
            <th scope="col">Телефон</th>
            <th scope="col">Email</th>
            <th scope="col" class="del-change"> </th>
            <th scope="col" class="del-change"> </th>
        </tr>

        <tr th:each="user : ${users}" th:if="${user.role_name != 'admin'}">
            <td th:text="${user.login}"></td>
            <td th:text="${user.password}"></td>
            <td th:text="${user.role_name}"></td>
            <td th:text="${user.person_name}"></td>
            <td th:text="${user.person_lastname}"></td>
            <td th:text="${user.person_patronymic}"></td>
            <td th:text="${user.phone}"></td>
            <td th:text="${user.email}"></td>
            <td>
                <form th:action="'/users/' + ${user.user_id} + '/remove'" method="post">
                    <button class="btn btn-danger" type="submit">Удалить</button>
                </form>
            </td>
            <td>
                <a th:href="'/users/' + ${user.user_id} + '/edit'" class="btn btn-info">Редактировать</a>
            </td>
        </tr>

        <tr th:each="user : ${users}" th:if="${user.role_name == 'admin'}" class="table-warning">
            <td th:text="${user.login}"></td>
            <td th:text="${user.password}"></td>
            <td th:text="${user.role_name}"></td>
            <td th:text="${user.person_name}"></td>
            <td th:text="${user.person_lastname}"></td>
            <td th:text="${user.person_patronymic}"></td>
            <td th:text="${user.phone}"></td>
            <td th:text="${user.email}"></td>
            <td>
                <form th:action="'/users/' + ${user.user_id} + '/remove'" method="post">
                    <button class="btn btn-danger" type="submit">Удалить</button>
                </form>
            </td>
            <td>
                <a th:href="'/users/' + ${user.user_id} + '/edit'" class="btn btn-info">Редактировать</a>
            </td>
        </tr>

    </table>
</div>

<div th:insert="blocks/footer :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>